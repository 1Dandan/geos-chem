REVISIONS (v7-01-02)  
bmy, 12 Oct 2004


New in v7-01-02:
-------------------------------------------------------------------------------

aerosol_ruralbox	-- Added to supply variables such as IXSAVE, IYSAVE,
("aerosol_mod.f")	   IZSAVE, AIRDENS, ABSHUM to offline aerosol sim



Removed in v7-01-02:
-------------------------------------------------------------------------------



Changed from v7-01-01:
-------------------------------------------------------------------------------

accumulate_diag50	-- Now reference GET_ELAPSED_MIN and GET_TS_CHEM 
("diag50_mod.f")	-- from "time_mod.f".  
			-- Also now use extra counter COUNT_CHEM to count 
			   the number of chemistry timesteps, because NO, NO2,
			   OH, O3 are only archived when a full-chemistry
		           timestep happens. 

accumulate_diag51	-- Now reference GET_ELAPSED_MIN and GET_TS_CHEM from
("diag51_mod.f")	   "time_mod.f".  
			-- Also now all diagnostic counters are 1-D since 
			   they only depend on longitude.
			-- Now only archive NO, NO2, OH, O3 on every chemistry
			   timestep (i.e. only when fullchem is called)

cleanup_diag51		-- Now deallocate GOOD_CT_CHEM
("diag51_mod.f")

chem_tagged_ox		-- Bug fix: Now avoid a SEG FAULT error if 
("tagged_ox_mod.f")	   PBLFRAC isn't allocated

diag3.f			-- Comment out ND27 for GEOS-4.  It isn't working 100%
			   right.  If you examine the flux at 200 hPa, you get
			   the same info.

diag49			-- Updated tracer # for NO2
("diag49_mod.f")

diag51			-- Added local variable TAU_W
("diag51_mod.f")

do_transport		-- Now references MASSFLEW, MASSFLNS, MASSFLUP 
("transport_mod.f")	   from "diag_mod.f"
			-- Also references ND24, ND25, ND26 from "CMN_DIAG"

init_dao		-- Now also allocate AVGW for offline aerosol sim
("dao_mod.f")

init_diag51		-- Diagnostic counter arrays are now only 1-D.  
("diag51_mod.f") 	-- Also add GOOD_CT_CHEM which is the counter array 
			   of "good" boxes at each chemistry timesteps.
			-- Now allocate GOOD_CT_CHEM

init_comode		-- Now allocate certain arrays for offline aerosol sim
("comode_mod.f")

its_time_for_write_diag51- Add TAU_W as an output argument
("diag51_mod.f")

ndxx_setup.f		-- Now make sure that LD21 = MAX( ND21, LLTROP )
		           instead of LLPAR

read_prod_loss_menu	-- Bug fix: Only error check # of prod/loss families 
("input_mod.f")		   for TagOx and TagCO runs if DO_SAVE_PL=T.  
			-- Also turn off this diagnostic for the offline 
			   aerosol run.

tpcore_fvdas_mod.f90	-- Added Brendan Field's mass flux diagnostic code
			   for ND24, ND25, ND26 diagnostic
			-- Highlighted places where Harvard modified the
			   original code (in case we need to know this for
			   MPI parallelization)
			-- Added parallel loops for ND26 diagnostic


write_diag50		-- Now only archive NO, NO2, OH, O3 on every chemistry
("diag50_mod.f")	   timestep (i.e. only when fullchem is called).  
			-- Also remove reference to FIRST. 

write_diag51		-- Add TAU_W as an input argument
("diag51_mod.f")	-- Use TAU_W to set TAU0, TAU1 variables
			-- Also now all diagnostic counters are 1-D since they
			   only depend on longitude.  
			-- Now only archive NO, NO2, OH, O3 on every chemistry
			   timestep (i.e. only when fullchem is called)
			-- Also remove reference to FIRST. 