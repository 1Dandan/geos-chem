REVISIONS (v8-02-04)
06 Nov 2009
Bob Yantosca, Philippe Le Sager, and Claire Carouge
geos-chem-support@as.harvard.edu


New in v8-02-04:
===============================================================================

In the GeosCore subdirectory:
-----------------------------

linoz_mod.f		-- Module containing routines for the Linoz
	 		   stratospheric chemistry algorithm

nei2005_anthro_mod.f    -- read, allocate, total, and deallocate NEI
		       	   2005 emissions data 

sulfate_pbl_mix	        -- does the PBL mixing of a column of sulfate
(sulfate_mod.f)		   emissions  


Removed in v8-02-04:
===============================================================================



Modified in v8-02-04:
===============================================================================

Input files for GEOS-Chem:
--------------------------

ratj.d     		-- Updated the branching ratio of HNO4.  
			   Changed the lines:
			      Line 13 HNO4 from 33.3 to 5.0
			      Line 14 HNO4 from 66.7 to 95.0
			   This is based on Jimenez et al, "Quantum yields 
			   of OH, HO2 and NO3 in the UV photolysis of HO2NO2" 
			   (jmao, bmy, 10/27/09)

input.geos		-- has an additional lines for EPA2005, and LINOZ


In the Headers subdirectory:
----------------------------

define.h		-- Removed references to IN_CLOUD_OD
			-- Added ProTeX headers

CMN_SIZE        	-- set NOXLEVELS and NOXEXTENT to 5


In the GeosCore subdirectory:
-----------------------------

anthroems.f	        -- account for NOXLEVELS not equal to 2

calcrate.f		-- FastJX has taken near-IR photolysis into account 
                           with cross section at 574nm, so we don't need to 
	                   manually add 1e-5 to the JHNO4 rate anymore.

compute_biomass_emissions -- Irrespective of inventory type, we need to 
("biomass_mod.f")            scale biomass CO to account for CO production
                             from VOC's that are not explicitly carried in the 
                             chemistry mechanisms. This used to be done in 
                             gc_biomass_mod.f but then is not used for GFED2, 
                             FLAMBE, etc.

chem_dms		-- Update reaction rate to match JPL06 and full chem
("sulfate_mod.f")

chem_so2		-- Update reaction rate to match JPL06 and full chem
("sulfate_mod.f")

chem_tagged_ox		-- Now only compute loss rate in troposphere 
("tagged_ox_mod.f")

cleanup.f		-- Now references CLEANUP_LINOZ

cleanup_sulfate		-- Deleted obsolete arrays from older SO2 volcanic
("sulfate_mod.f")          emissions inventory

diag20			-- Bug fix: Now just zero arrays w/o loop indices
("diag_pl_mod.f")

diag3.f                 -- accounts for 3D AD13_NH3_an

diag_mod.f		-- AD13_NH3_an is declared as 3D
     
do_emissions    	-- account for NEI 2005
(emissions_mod.f)

dst_mbl			-- new scale factor for dust mobilization for 
("dust_dead_mod.f")        GEOS5 at 2x2.5

emisssulfate		-- Now read new volcanic SO2 emissions daily
("sulfate_mod.f")

emfossil.f		-- account for NEI 2005

fast_j.f 		-- Removed references to IN_CLOUD_OD		

init_drydep		-- Minor bug fix: ALPH, LIMO should have 
("drydep_mod.f")           molwt = 136.23, not 136 even

init_input		-- Now initialize LLINOZ
("input_mod.f")

init_sulfate		-- Now redimension EEV & NEV arrays for new SO2 
("sulfate_mod.f")          volcanic emissions inventory
			-- Deleted obsolete arrays from older SO2 volcanic
                           emissions inventory

logical_mod.f		-- added LNEI05
     
main.f			-- Now calls LINOZ_READ at startup

Makefile		-- added nei2005_anthro_mod.o

ndxx_setup.f		-- Now AD13_SO2_an and AD13_SO4_an have NOXLEVELS
			   levels to accomodate NEI 2005
			-- accounts for 3D AD13_NH3_an

open_a6_fields		-- Removed references to IN_CLOUD_OD
("a6_read_mod.f")

read_a3			-- Removed references to IN_CLOUD_OD
("a3_read_mod.f")

read_a6			-- Removed references to IN_CLOUD_OD
("a6_read_mod.f")

read_i6			-- Removed references to IN_CLOUD_OD
("i6_read_mod.f")

read_anthro_sox		-- account for multilevels emissions
("sulfate_mod.f")
     
read_emissions_menu	-- Bug fix: for now, if LEMEPSHIP is turned on but 
("input_mod.f")            LEMEP is turned off, just turn off LEMEPSHIP and 
                           print a warning msg
			-- Now reads for LNEI05

read_erup_volc		-- Complete re-write as volcanic emissions are now 
("sulfate_mod.f")          monthly and stored as BPCH files

read_nonerup_volc	-- Complete re-write as volcanic emissions are now 
("sulfate_mod.f")          monthly and stored as BPCH files

read_simulation_menu	-- Now read LLINOZ switch from input.geos file
("input_mod.f")

setemis.f		-- anthro NOx emissions above PBL are left
                           in their initial level 

srcso2			-- Changed processing of volcanic SO2 emissions
("sulfate_mod.f")	-- account for NEI 2005

srcso4			-- account for NEI 2005
("sulfate_mod.f")

srcnh3			-- account for NEI 2005; multilevel emiss. now
("sulfate_mod.f")

sulfate_mod.f		-- Removed obsolete arrays from old volcanic emissions
			-- Commented out LEEV and LENV flags

tagged_ox_mod.f		-- Various updates for Linoz

upbdflx_mod.f		-- Various updates for Linoz


Removed obsolete, commented out code from the following routines:
===============================================================================
calcrate.f
carbon_mod.f
diag3.f
diag42_mod.f
diag48_mod.f
diag49_mod.f
diag51_mod.f
emfossil.f
emissdr.f
error_mod.f
gamap_mod.f
gc_biomass_mod.f
geia_mod.f
global_ch4_mod.f
h2_hd_mod.f
input_mod.f
lightning_nox_mod.f
main.f
ocean_mercury_mod.f
planeflight_mod.f
regrid_1x1_mod.f
setemis.f
streets_anthro_mod.f
toms_mod.f
tpcore_geos5_window_mod.f90
tropopause_mod.f
tracerid_mod.f
upbdflx_mod.f
wetscav_mod.f


