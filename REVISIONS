REVISIONS (v7-03-01)  
bmy, 04 May 2005


New in v7-03-01:
-------------------------------------------------------------------------------

aero_sfcrsii		-- New code from Becky Alexander, now accounts for
("drydep_mod.f")	   hygroscopic growth of aerosol particles.

diag3.f			-- Add P(SO4s) to row 8 of ND05 diagnostic

dust_sfcrsi		-- Renamed from AERO_SFCRSI, does not account for
("drydep_mod.f")	   hygroscopic growth of particles

dust_sfcrsii		-- Renamed from AERO_SFCRSII, does not account for
("drydep_mod.f")	   hygroscopic growth of particles

gamap_mod.f		-- Module containing routines which create GAMAP 
			   "tracerinfo.dat" and "diaginfo.dat" files which are 
			   customized to each particular GEOS-CHEM simulation

get_alk			-- Routine for computing alkalinity of seasalt
("seasalt_mod.f")	   emissions; called from SULFATE_MOD

get_fam_name		-- Routine that returns ND65 P/L family names
("diag_pl_mod.f")

get_fam_mwt		-- Routine that returns ND65 P/L family molec. wts
("diag_pl_mod.f")

get_nfam		-- Routine that returns # of ND65 P/L families
("diag_pl_mod.f")

get_sim_name		-- Returns returns the name 
("tracer_mod.f")	   (e.g. "NOx-Ox-Hydrocarbon-Aerosol", "Tagged CO", 
			   etc.) of the GEOS-CHEM simulation. 

grav_settling		-- Computes gravitational settling of SO4s, NITs
("sulfate_mod.f")

isoropia_mod.f		-- Module containing routines from the ISOROPIA
			   package for aerosol thermodynamical equilibrium

seasalt_chem		-- Function SEASALT_CHEM computes SO4 formed from 
("sulfate_mod.f")	   S(IV) + O3 on seasalt aerosols as a function of
			   seasalt alkalinity

system_date_time	-- Returns the system date and time (local time)
("time_mod.f")		   as opposed to the model date & time

system_timestamp	-- Returns a 16 character string with the system
("time_mod.f")		   date and time in YYYY/MM/DD HH:MM format.



Removed in v7-03-01:
-------------------------------------------------------------------------------



Changed from v7-02-04:
-------------------------------------------------------------------------------

accumulate_diag50       -- Now reference CLDF and BXHEIGHT from "dao_mod.f".  
("diag50_mod.f")	-- Now save 3-D cloud fraction as tracer #79 and 
			   box height as tracer #93.  
			-- Now remove references to CLMOSW, CLROSW, and PBL 
			   from "dao_mod.f".

accumulate_diag51       -- Now reference CLDF and BXHEIGHT from "dao_mod.f".  
("diag50_mod.f")	-- Now save 3-D cloud fraction as tracer #79 and 
			   box height as tracer #93.  
			-- Now remove references to CLMOSW, CLROSW, and PBL 
			   from "dao_mod.f".

chemsulfate		-- Now handle gravitational settling of SO4s, NITs
("sulfate_mod.f")

chem_dms		-- Shift rows 8,9 in AD05 to 9,10 in to make room for
("sulfate_mod.f")	   P(SO4) from O3 oxidation in sea-salt aerosols

chem_so2		-- Modified for SO4s, NITs chemistry
("sulfate_mod.f")	-- Modified for alkalinity w/in the seasalt chemistry

cleanup_seasalt		-- Now deallocates ALK_EMIS, N_DENS, SRC_N
("seasalt_mod.f")

CMN_DIAG		-- Rename MAXDIAG to MAX_DIAG and MAXTRACER to 
 			   MAX_TRACER in order to avoid name conflicts with 
		           "gamap_mod.f"

compute_f		-- Updated for SO4s, NITs
("wetscav_mod.f")

define.h		-- Removed obsolete A_LLK_03 switch

depvel			-- Now calls AERO_SFCRSII for seasalt tracers, and
("drydep_mod.f")	   DUST_SFCRSII for dust tracers.  Seasalt tracers
			   have hygroscopic growth, dust do not.
			-- Added RHB as an inpuat array

diag3.f			-- Add P(SO4s) to row 8 of ND05 diagnostic
			-- Also remove special tracer #'s for the ND67 diag
			-- Now do not save CLDMAS for ND67 for GEOS-4, since 
			   GEOS-4 convection uses different met fields

diag48			-- Now reference CLDF and BXHEIGHT from "dao_mod.f"
("diag48_mod.f")	-- Now save 3-D cloud fraction as tracer #79 and box 
			   height as tracer #93
			-- Now remove reference to PBL from "dao_mod.f"

diag49			-- Now reference CLDF and BXHEIGHT from "dao_mod.f" 
("diag49_mod.f")	-- Now save 3-D cloud fraction as tracer #79 and grid 
			   box height as tracer #93. 
			-- Now remove reference to PBL from "dao_mod.f"

display_end_time	-- Now prints the ending time of the GEOS-CHEM
("main.f")		   simulation in YYYY/MM/DD HH:MM format

display_grid_and_model	-- Now also prints the starting time of the GEOS-CHEM
("main.f")		   simulation in YYYY/MM/DD HH:MM format

do_chemistry		-- Now use ISOROPIA for aer thermodyn equilibrium if 
("chemistry_mod.f")	   we have seasalt tracers defined, or RPMARES if not
			-- Now call CHEMSEASALT before CHEMSULFATE due to the
			   new seasalt chemistry for SO4s and NITs
			-- Now do aerosol thermodynamic equilibrium before
			   aerosol chemistry for offline aerosol runs.
			-- Now references CLDF from "dao_mod.f"
			-- Now passes CLDF to OPTDEPTH 

do_drydep		-- Now define RHB as a local array, which is defined 
("drydep_mod.f")	   in METERO and then passed to DEPVEL

do_emissions 		-- Now call EMISSSEASALT before EMISSSULFATE due to the
("emissions_mod.f")	   new seasalt chemistry for SO4s and NITs
			
emissseasalt		-- Now call INIT_SEASALT on the first timestep
("seasalt_mod.f")	-- Also initialize ALK_EMIS & N_DENS on each timestep.

get_global_hno3		-- Now read total gas + aerosol HNO3 data
("global_hno3_mod.f")

get_wetdep_nmax		-- Updated for SO4s, NITs
("wetscav_mod.f")

init_drydep		-- Included SO4s, NITs tracers
("drydep_mod.f")	

init_seasalt		-- Now exit if we have allocated arrays before
("seasalt_mod.f")	-- Now also allocate ALK_EMIS, N_DENS, SRC_N
			-- Now references CMN_SIZE

init_sulfate		-- Now allocates PSO4_ss, PNITs
("drydep_mod.f")	

metero			-- Now references RH from "dao_mod.f".  
("drydep_mod.f")	-- Now passes relative humidity in the surface layer 
			   back via RHB argument.

ndxx_setup.f		-- Now use PD05=11 to dimension AD05 array

od_geos3_geos4		-- Renamed from od_geos2_geos3
("optdepth_mod.f")	-- Now passes CLDF via the arg list
			-- Now saves CLDF to ND21 diagnostic

rainout			-- Updated for SO4s, NITs
("wetscav_mod.f")

read_aerosol_menu	-- Now also require LSSALT=T when LSULF=T, since we 
("input_mod.f")		   now compute the production of SO4 and NIT w/in 
			   the seasalt aerosol

srcsalt			-- Now also compute alkalinity and number density 
("seasalt_mod.f")	   of seasalt emissions

tracerid		-- Added IDTSO4s and IDTNITs
("tracerid_mod.f")

washout			-- Updated for SO4s, NITs
("wetscav_mod.f")

wetdep			-- Block out parallel loop with #ifdef statements 
("wetscav_mod.f")	   for SGI_MIPS compiler.  For some reason this 
		           causes an error.

wetdepid		-- Updated for SO4s, NITs
("wetscav_mod.f")

wetscav_mod.f		-- Increased NSOLMAX from 29 to 31

write_diag50		-- Now save grid box heights as tracer #93
("diag50_mod.f")	-- Now save 3-D cloud fraction as tracer #79

write_diag51		-- Now save grid box heights as tracer #93
("diag50_mod.f")	-- Now save 3-D cloud fraction as tracer #79