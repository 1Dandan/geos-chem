REVISIONS (v7-03-02)  
bmy, 22 Jun 2005


New in v7-03-02:
-------------------------------------------------------------------------------

do_geos4_convect	-- Driver routine for GEOS-4 convection code
("convection_mod.f")       (split off from DO_CONVECTION)

do_geos4_convect	-- Driver routine for GEOS-4 convection code
("convection_mod.f")       (split off from DO_CONVECTION)

get_obk			-- Routine to compute the Monin-Obhukov length
("dao_mod.f")		   (code was formerly in routine METERO of
			   "drydep_mod.f")

make_gcap_cldfrc	-- Added routine to create CLDFRC field from
("a6_read_mod.f")	   CLDF field for GCAP data

tagged_hcn_ch3cn_mod.f	-- Module for tagged HCN and CH3CN simulation



Removed in v7-03-02:
-------------------------------------------------------------------------------



Changed from v7-03-01:
-------------------------------------------------------------------------------

archive_rxns_for_pf	-- Bug fix: Replace with DO_PF since this variable is 
("planeflight_mod.f")	   reset to either T or F each day depending on 
			   whether there is plane flight data available

cleanup_dao		-- Now deallocates GCAP met field arrays
("dao_mod.f")

CMN_SIZE		-- Now add parameters for GCAP & GEOS-5 grids

compute_grid		-- Now modified for GCAP 4x5 horizontal grid
("grid_mod.f")

compute_pbl_height	-- Now modified for GEOS-5 and GCAP met fields
("pbl_mix_mod.f")

correct_ste		-- Now updated for GCAP met fields
("RnPbBe_mod.f")

dao_mod.f		-- Now declare extra variables for GCAP met fields

define.h		-- Removed obsolete A_LLK_03 switch.  
			-- Also added extra switches for GCAP and 
			   GEOS_5 met fields

depvel			-- Now define AZO for the proper dimension for
("drydep_mod.f")	   GCAP or GEOS met fields
			-- Now compute REYNO for GCAP or GEOS met fields
			-- Now compute Z0OBK for GCAP or GEOS met fields
			-- Now activate other GISS-specific code sections
			   when using the GCAP met fields

diag1.f			-- Fixed ND67 PS-PBL for GCAP and GEOS-5 met fields

diag3.f			-- Now modified for GEOS-5 and GCAP met fields
			-- Bug fix in ND68 diagnostic: use LD68 instead of 
			   ND68 in call to BPCH2

directory_mod.f		-- Added variables GCAP_DIR and GEOS_5_DIR

do_chemistry		-- Now modified for GCAP met fields
("chemistry_mod.f")

do_convection		-- Now calls separate driver routines for convection
("convection_mod.f")	   depending on met field type 

do_drydep		-- Now dimension AZO for GEOS or GCAP met fields
("drydep_mod.f")	-- Remove obsolete variables

do_open_a3		-- Remove code for obsolete GEOS-4 a_llk_03 data
("a3_read_mod.f")	-- Now modified for GEOS-5 and GCAP met fields

do_open_a6		-- Remove code for obsolete GEOS-4 a_llk_03 data
("a6_read_mod.f")	-- Now modified for GEOS-5 and GCAP met fields

do_global_transport	-- For GEOS-3 transport, we don't have to flip the 
("transport_mod.f")	   STT array before & after the call to TPCORE because
			   we now call TPCORE with the array mask statement
		           STT(:,:,LLPAR:1:-1,:)
			-- Also modified for GEOS-5 and GCAP met fields. 

dryflxRnPbBe		-- Now modified for GEOS-5 and GCAP met fields
("drydep_mod.f")

emisop.f		-- Bug fix: change #else to #elif

emisop_mb.f		-- Bug fix: change #else to #elif

emisop_grass.f		-- Bug fix: change #else to #elif

get_a3_fields		-- Now modified for GCAP and GEOS-5 met fields
("a3_read_mod.f")

get_a6_fields		-- Now modified for GCAP and GEOS-5 met fields
("a3_read_mod.f")

get_a3_time		-- Now modified for GCAP and GEOS-5 met fields
("time_mod.f")

get_a6_time		-- Now modified for GCAP and GEOS-5 met fields
("time_mod.f")

get_first_a3_time	-- Modified for GCAP and GEOS-5 met fields
("time_mod.f")

get_first_a6_time	-- Modified for GCAP and GEOS-5 met fields
("time_mod.f")

get_i6_fields_1		-- Now modified for GEOS-5 and GCAP met fields
("i6_read_mod.f")

get_i6_fields_2		-- Now modified for GEOS-5 and GCAP met fields
("i6_read_mod.f")

get_l_copy		-- Now modified for GEOS-5 and GCAP met fields
("transfer_mod.f")

get_modelname		-- Updated for GCAP and GEOS-5 met fields
("bpch2_mod.f")		-- Rearranged coding for simplicity.

get_n_a3		-- Now modified for GCAP and GEOS-5 met fields
("a3_read_mod.f")

get_n_a6		-- Now modified for GCAP and GEOS-5 met fields
("a6_read_mod.f")

get_n_i6		-- Now modified for GCAP and GEOS-5 met fields
("i6_read_mod.f")

get_name_ext		-- Updated for GCAP and GEOS-5 met fields
("bpch2_mod.f")

get_oro			-- Modified for GEOS-5 and GCAP met fields
("dust_dead_mod.f")

get_phis_field      	-- Now also read LWI_GISS for GCAP met fields
("phis_read_mod.f")

init_dao		-- Modified for GCAP met fields
("dao_mod.f")

init_gamap		-- Now add proper UNIT & SCALE for Rn/Pb/Be simulations
("gamap_mod.f")

init_grid		-- Modified for GCAP 4x5 horizontal grid
("grid_mod.f")

init_pressure		-- Now modified for both GCAP & GEOS-5 vertical grids
("pressure_mod.f")

init_transport		-- Now modified for both GCAP & GEOS-5 met fields
("transport_mod.f")

interp			-- Now modified for GEOS-5 and GCAP met fields 
("dao_mod.f")

is_land			-- Now modified for GEOS-5 and GCAP met fields 
("dao_mod.f")

is_water		-- Now modified for GEOS-5 and GCAP met fields 
("dao_mod.f")

its_time_for_a6		-- Now modified for GCAP and GEOS-5 met fields 
("time_mod.f")

init_transfer		-- Now modified for GEOS-5 met fields
("transfer_mod.f")

metero			-- Now call GET_OBK from "dao_mod.f" to get the M-O 
("drydep_mod.f")	   length for both GEOS or GCAP met fields 
			-- Remove local computation of M-O length here
			-- Also now dimension AZO appropriately for GCAP or 
			   GEOS met fields
			-- Remove obsolete variables

open_a3_fields      	-- Now modified for GEOS-5 and GCAP met fields 
("a3_read_mod.f")

open_a6_fields      	-- Now modified for GEOS-5 and GCAP met fields 
("a3_read_mod.f")

open_i6_fields      	-- Now modified for GEOS-5 and GCAP met fields 
("i6_read_mod.f")

open_phis_field      	-- Now modified for GEOS-5 and GCAP met fields 
("phis_read_mod.f")

read_a3			-- Now modified for GEOS-5 and GCAP met fields
("a3_read_mod.f")	-- Added GCAP MOLENGTH, SNICE, OICE optional arguments

read_a6			-- Now modified for GEOS-5 and GCAP met fields
("a3_read_mod.f")	-- Added DETRAINE, DETRAINN, DNDE, DNDN, ENTRAIN, 
			   UPDE, UPDN as optional arguments
			-- Now references "CMN_DIAG"

reader.f		-- Redefine CHEMINTV [s] to the value in "input.geos" 
			   so that we don't have a discrepancy with the value 
			   in "mglob.dat"

read_phis		-- Now also read LWI_GISS for GCAP met fields
("phis_read_mod.f") 	-- Added optional variable LWI to the arg list.

read_simulation_menu	-- Now read GEOS_5_DIR and GCAP_DIR from input.geos 
("input_mod.f")

read_uvalbedo		-- Now references GET_NAME_EXT from "bpch_mod.f"
("uvalbedo_mod.f")

transfer_3d		-- Now modified for GEOS-5 met fields
("transfer_mod.f")

transfer_a6		-- Now modified for GEOS-5 met fields
("transfer_mod.f")

transfer_zonal_r4	-- Now modified for GEOS-5 met fields
("transfer_mod.f")

transfer_zonal_r8	-- Now modified for GEOS-5 met fields
("transfer_mod.f")

unzip_a3_fields		-- Now modified for GEOS-5 and GCAP met fields
("a3_read_mod.f")

unzip_a3_fields		-- Now modified for GEOS-5 and GCAP met fields
("a3_read_mod.f")

unzip_a6_fields		-- Remove code for obsolete GEOS-4 a_llk_03 data 
("a6_read_mod.f")	-- Now modified for GEOS-5 and GCAP met fields

unzip_phis_field	-- Now modified for GEOS-5 and GCAP met fields
("phis_read_mod.f")

upbdflx_o3		-- Now modified for GEOS-5 and GCAP met fields
("upbdflx_mod.f")
